<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
      input {
        height: 2em;
        margin-left: 1em;
      }
    </style>
  </head>
  <body>
    node.js 공부
    <!--  -->
    <!--  get 요청 -->
    <h1>로그인</h1>
    <!-- form 전송은 클라이언트가 서버로 데이터를 보내는 방법 중 하나. -->
    <!-- action: 요청을 보낼 주소(제 서버에 보낸다는 가정 하에 도메인을 뗀 주소) -->
    <!-- ex)localhost:8000/get/test 서버에 보내고 싶다면 actiont"/get/test" -->
    <!-- method: 어떤 방식의 요청을 사용할 지 (get or post) -->
    <form action="/get" method="get" target="_blank" name="login">
      <fieldset>
        <legend>로그인 정보</legend>
        <input type="text" name="id" />
        <input type="password" name="pw" />
      </fieldset>
      <input type="radio" name="gender" value="male" id="male" /> <label for="male">남자</label>
      <input type="radio" name="gender" value="female" id="female" /><label for="female">여자</label>
      <!-- button type submit인 경우, 버튼을 감싸고 있는 form 태그의 정보에 맞게 폼을 제출 -->
      <button type="submit">제출</button>
    </form>
    <script>
      document.forms["login"];
    </script>

    <!--  -->
    <!-- post 요청 -->
    <h1>회원가입 post 요청</h1>
    <form action="/post/ver2" method="post">
      <input type="text" name="id" pattern="^([a-zA-z0-9]){5,12}$" id="id" title="소문자, 대문자, 한글, 숫자로 5~12 자리로 입력" required /><label for="id">아이디</label>
      <input type="password" name="pw" id="pw" oninput="validCehckPw(this)" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[\W_])[a-zA-Z0-9\W_]{8,}$" title="영어, 숫자, 특수 문자로 8글자 이상 입력" required /><label for="pw">비밀번호</label>
      <div id="error-pw"></div>
      <input type="text" name="name" id="name" required /><label for="name">이름</label>
      <input type="text" pattern="^010-\d{3,4}-\d{4}$" name="phone" id="phone" title="010-0000-0000 형식 입력" required /><label for="phone">전화번호</label>
      <input type="radio" name="gender" value="male" id="male" required /> <label for="male">남자</label>
      <input type="radio" name="gender" value="female" id="female" required /><label for="female">여자</label>
      <!-- <input type="text" name="email" required /> -->
      <button type="submit">제출</button>
    </form>

    <script>
      function validCehckPw(el) {
        const regexPw = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[\W_])[a-zA-Z0-9\W_]{8,}$/
        const value = el.value;
        const err = document.querySelector("#error-pw")
        if (regexPw.test(value)) {
          err.innerHTML = "";
          console.log("정규식 일치");
        } else {
          err.innerHTML = "영어, 숫자, 특수 문자로 8글자 이상 입력";
          console.log("정규식 불일치");

        }
      }
    </script>
  </body>
</html>